# shellcheck shell=bash
# shellcheck disable=SC1090,SC1091,SC2034

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

[[ -f $XDG_CONFIG_HOME/bash/.bash_aliases ]] && source "$XDG_CONFIG_HOME/bash/.bash_aliases"

autoload -Uz promptinit
autoload -Uz compinit
promptinit
compinit -d "$XDG_CACHE_HOME/zsh/zcompdump-$ZSH_VERSION"

# Some zsh plugins
[[ -f /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ]] && \
	source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

[[ -f /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh ]] && \
	source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh

# find-the-command
# https://github.com/pkasemir/find-the-command
[[ -f /usr/share/doc/find-the-command/ftc.zsh ]] && \
  source /usr/share/doc/find-the-command/ftc.zsh noupdate quiet info

# Alternative (pkgfile)
# https://wiki.archlinux.org/title/Pkgfile#Command_not_found
# [[ -f /usr/share/doc/pkgfile/command-not-found.zsh ]] && \
#   source /usr/share/doc/pkgfile/command-not-found.zsh

bindkey '^[[H' beginning-of-line
bindkey '^[[F' end-of-line
bindkey "^[[3~" delete-char


# Zsh XDG history
export HISTFILE="$XDG_STATE_HOME"/zsh/history


# Helpful tool: https://zsh-prompt-generator.site/
# On github: https://github.com/k-yokoishi/zsh-prompt-generator
PROMPT="[%n@%m %~]$ "
RPROMPT="%?:%h | %*"

# Starship after defining custom prompt, easy to remove
eval "$(starship init zsh)"

# Zoxide init has to be last
eval "$(zoxide init zsh)"
